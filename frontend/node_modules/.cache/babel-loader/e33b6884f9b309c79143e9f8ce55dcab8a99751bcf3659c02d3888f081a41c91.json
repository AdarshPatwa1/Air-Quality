{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ROHAN\\\\OneDrive\\\\Desktop\\\\Air Quality App\\\\frontend\\\\src\\\\components\\\\Notifications.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  min-height: calc(100vh - 40px);\n  background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);\n  padding: 20px;\n  border-radius: 15px;\n  margin-top: 20px;\n`;\n_c = Container;\nconst Title = styled.h1`\n  color: white;\n  text-align: center;\n  margin-bottom: 30px;\n  font-size: 2.5rem;\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);\n`;\n_c2 = Title;\nconst Card = styled.div`\n  background: rgba(255, 255, 255, 0.95);\n  border-radius: 15px;\n  padding: 25px;\n  margin: 20px 0;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n`;\n_c3 = Card;\nconst Form = styled.form`\n  display: grid;\n  gap: 20px;\n  margin-bottom: 30px;\n`;\n_c4 = Form;\nconst FormGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n_c5 = FormGroup;\nconst Label = styled.label`\n  margin-bottom: 8px;\n  font-weight: 600;\n  color: #333;\n`;\n_c6 = Label;\nconst Input = styled.input`\n  padding: 15px;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 10px;\n  font-size: 16px;\n  background: rgba(255, 255, 255, 0.9);\n  \n  &:focus {\n    outline: none;\n    border-color: #11998e;\n    box-shadow: 0 0 0 3px rgba(17, 153, 142, 0.1);\n  }\n`;\n_c7 = Input;\nconst Select = styled.select`\n  padding: 15px;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 10px;\n  font-size: 16px;\n  background: rgba(255, 255, 255, 0.9);\n  \n  &:focus {\n    outline: none;\n    border-color: #11998e;\n    box-shadow: 0 0 0 3px rgba(17, 153, 142, 0.1);\n  }\n`;\n_c8 = Select;\nconst CheckboxGroup = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 15px;\n  margin-top: 10px;\n`;\n_c9 = CheckboxGroup;\nconst CheckboxLabel = styled.label`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-weight: normal;\n  cursor: pointer;\n`;\n_c0 = CheckboxLabel;\nconst Button = styled.button`\n  padding: 15px 30px;\n  background: linear-gradient(45deg, #11998e, #38ef7d);\n  color: white;\n  border: none;\n  border-radius: 10px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(17, 153, 142, 0.4);\n  }\n`;\n_c1 = Button;\nconst ActionButton = styled.button`\n  padding: 10px 20px;\n  margin-right: 10px;\n  background: #ff9800;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: #e68900;\n    transform: translateY(-1px);\n  }\n`;\n_c10 = ActionButton;\nconst UnsubscribeButton = styled(ActionButton)`\n  background: #f44336;\n  \n  &:hover {\n    background: #d32f2f;\n  }\n`;\n_c11 = UnsubscribeButton;\nconst ErrorMessage = styled.div`\n  background: #f8d7da;\n  color: #721c24;\n  padding: 15px;\n  border-radius: 10px;\n  margin: 20px 0;\n  border: 1px solid #f5c6cb;\n`;\n_c12 = ErrorMessage;\nconst SuccessMessage = styled.div`\n  background: #d4edda;\n  color: #155724;\n  padding: 15px;\n  border-radius: 10px;\n  margin: 20px 0;\n  border: 1px solid #c3e6cb;\n`;\n_c13 = SuccessMessage;\nconst SubscriptionList = styled.ul`\n  list-style: none;\n  padding: 0;\n  \n  li {\n    margin: 15px 0;\n    background: #fff;\n    padding: 20px;\n    border-radius: 10px;\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n`;\n_c14 = SubscriptionList;\nconst SubscriptionInfo = styled.div`\n  h4 {\n    margin: 0 0 8px 0;\n    color: #333;\n  }\n  \n  p {\n    margin: 4px 0;\n    color: #666;\n    font-size: 14px;\n  }\n`;\n_c15 = SubscriptionInfo;\nconst AlertPopup = styled.div`\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: white;\n  padding: 30px;\n  border-radius: 15px;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n  z-index: 1000;\n  max-width: 500px;\n  width: 90%;\n`;\n_c16 = AlertPopup;\nconst AlertOverlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 999;\n`;\n_c17 = AlertOverlay;\nfunction Notifications() {\n  _s();\n  const [form, setForm] = useState({\n    location: '',\n    threshold: 100,\n    age_group: '',\n    health_conditions: []\n  });\n  const [subscriptions, setSubscriptions] = useState([]);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [alertPopup, setAlertPopup] = useState(null);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n    try {\n      const response = await axios.post('/notifications', {\n        action: 'subscribe',\n        ...form\n      });\n      if (response.data) {\n        setSubscriptions([...subscriptions, {\n          user_id: response.data.user_id || Date.now(),\n          location: form.location,\n          threshold: form.threshold,\n          age_group: form.age_group,\n          health_conditions: form.health_conditions\n        }]);\n        setSuccess(`Successfully subscribed to alerts for ${form.location}`);\n        setForm({\n          location: '',\n          threshold: 100,\n          age_group: '',\n          health_conditions: []\n        });\n      }\n    } catch (err) {\n      setError('Failed to subscribe. Please try again.');\n    }\n  };\n  const handleUnsubscribe = async userId => {\n    try {\n      await axios.post('/notifications', {\n        action: 'unsubscribe',\n        user_id: userId\n      });\n      setSubscriptions(subscriptions.filter(sub => sub.user_id !== userId));\n      setSuccess('Successfully unsubscribed from alerts');\n    } catch (err) {\n      setError('Failed to unsubscribe. Please try again.');\n    }\n  };\n  const handleTest = async subscription => {\n    try {\n      const response = await axios.post('/notifications', {\n        action: 'test',\n        user_id: subscription.user_id,\n        location: subscription.location,\n        threshold: subscription.threshold\n      });\n      if (response.data) {\n        setAlertPopup({\n          location: subscription.location,\n          threshold: subscription.threshold,\n          currentAQI: response.data.current_aqi || 'Unknown',\n          message: response.data.message || 'Test alert generated',\n          level: response.data.level || 'INFO'\n        });\n      }\n    } catch (err) {\n      setError('Failed to test alert. Please try again.');\n    }\n  };\n  const handleCheckboxChange = condition => {\n    const updatedConditions = form.health_conditions.includes(condition) ? form.health_conditions.filter(c => c !== condition) : [...form.health_conditions, condition];\n    setForm({\n      ...form,\n      health_conditions: updatedConditions\n    });\n  };\n  const closeAlert = () => {\n    setAlertPopup(null);\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      children: \"\\uD83D\\uDD14 Push Alert Subscriptions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 17\n    }, this), success && /*#__PURE__*/_jsxDEV(SuccessMessage, {\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Subscribe to AQI Alerts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            htmlFor: \"location\",\n            children: \"City Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            id: \"location\",\n            name: \"location\",\n            value: form.location,\n            onChange: e => setForm({\n              ...form,\n              location: e.target.value\n            }),\n            placeholder: \"Enter city name\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            htmlFor: \"threshold\",\n            children: \"AQI Threshold:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"number\",\n            id: \"threshold\",\n            name: \"threshold\",\n            value: form.threshold,\n            onChange: e => setForm({\n              ...form,\n              threshold: parseInt(e.target.value)\n            }),\n            placeholder: \"e.g. 150\",\n            min: \"0\",\n            max: \"500\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            htmlFor: \"age_group\",\n            children: \"Age Group:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            id: \"age_group\",\n            name: \"age_group\",\n            value: form.age_group,\n            onChange: e => setForm({\n              ...form,\n              age_group: e.target.value\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select age group\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"child\",\n              children: \"Child (0-12)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"teen\",\n              children: \"Teen (13-19)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"adult\",\n              children: \"Adult (20-64)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"elderly\",\n              children: \"Elderly (65+)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"Health Conditions:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CheckboxGroup, {\n            children: ['asthma', 'allergies', 'heart_disease', 'copd', 'diabetes'].map(condition => /*#__PURE__*/_jsxDEV(CheckboxLabel, {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: form.health_conditions.includes(condition),\n                onChange: () => handleCheckboxChange(condition)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 19\n              }, this), condition.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase())]\n            }, condition, true, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          children: \"Subscribe to Alerts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this), subscriptions.length > 0 && /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Active Subscriptions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(SubscriptionList, {\n        children: subscriptions.map(subscription => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(SubscriptionInfo, {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: subscription.location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"AQI Threshold: \", subscription.threshold]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Age Group: \", subscription.age_group || 'Not specified']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Health Conditions: \", subscription.health_conditions.join(', ') || 'None']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(ActionButton, {\n              onClick: () => handleTest(subscription),\n              children: \"Test Alert\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(UnsubscribeButton, {\n              onClick: () => handleUnsubscribe(subscription.user_id),\n              children: \"Unsubscribe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 17\n          }, this)]\n        }, subscription.user_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 9\n    }, this), alertPopup && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(AlertOverlay, {\n        onClick: closeAlert\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AlertPopup, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            color: alertPopup.level === 'ALERT' ? '#d32f2f' : alertPopup.level === 'WARNING' ? '#ff9800' : '#4caf50',\n            marginBottom: '20px'\n          },\n          children: \"\\uD83D\\uDEA8 Alert Test Result\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\uD83D\\uDCCD Location:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 17\n            }, this), \" \", alertPopup.location]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u26A0\\uFE0F Your Threshold:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 17\n            }, this), \" \", alertPopup.threshold]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\uD83C\\uDF2C\\uFE0F Current AQI:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: alertPopup.currentAQI > alertPopup.threshold ? '#d32f2f' : '#4caf50',\n                fontWeight: 'bold',\n                marginLeft: '8px'\n              },\n              children: alertPopup.currentAQI\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: alertPopup.level === 'ALERT' ? '#ffebee' : alertPopup.level === 'WARNING' ? '#fff3e0' : '#e8f5e8',\n            padding: '20px',\n            borderRadius: '12px',\n            margin: '20px 0',\n            borderLeft: `4px solid ${alertPopup.level === 'ALERT' ? '#d32f2f' : alertPopup.level === 'WARNING' ? '#ff9800' : '#4caf50'}`\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '16px',\n              lineHeight: '1.5',\n              color: '#333'\n            },\n            children: alertPopup.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: closeAlert,\n          children: \"Close Alert\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 297,\n    columnNumber: 5\n  }, this);\n}\n_s(Notifications, \"7pgc36hBv9f/KdPJGcYm71CjO3Q=\");\n_c18 = Notifications;\nexport default Notifications;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Title\");\n$RefreshReg$(_c3, \"Card\");\n$RefreshReg$(_c4, \"Form\");\n$RefreshReg$(_c5, \"FormGroup\");\n$RefreshReg$(_c6, \"Label\");\n$RefreshReg$(_c7, \"Input\");\n$RefreshReg$(_c8, \"Select\");\n$RefreshReg$(_c9, \"CheckboxGroup\");\n$RefreshReg$(_c0, \"CheckboxLabel\");\n$RefreshReg$(_c1, \"Button\");\n$RefreshReg$(_c10, \"ActionButton\");\n$RefreshReg$(_c11, \"UnsubscribeButton\");\n$RefreshReg$(_c12, \"ErrorMessage\");\n$RefreshReg$(_c13, \"SuccessMessage\");\n$RefreshReg$(_c14, \"SubscriptionList\");\n$RefreshReg$(_c15, \"SubscriptionInfo\");\n$RefreshReg$(_c16, \"AlertPopup\");\n$RefreshReg$(_c17, \"AlertOverlay\");\n$RefreshReg$(_c18, \"Notifications\");","map":{"version":3,"names":["React","useState","axios","styled","jsxDEV","_jsxDEV","Fragment","_Fragment","Container","div","_c","Title","h1","_c2","Card","_c3","Form","form","_c4","FormGroup","_c5","Label","label","_c6","Input","input","_c7","Select","select","_c8","CheckboxGroup","_c9","CheckboxLabel","_c0","Button","button","_c1","ActionButton","_c10","UnsubscribeButton","_c11","ErrorMessage","_c12","SuccessMessage","_c13","SubscriptionList","ul","_c14","SubscriptionInfo","_c15","AlertPopup","_c16","AlertOverlay","_c17","Notifications","_s","setForm","location","threshold","age_group","health_conditions","subscriptions","setSubscriptions","error","setError","success","setSuccess","alertPopup","setAlertPopup","handleSubmit","e","preventDefault","response","post","action","data","user_id","Date","now","err","handleUnsubscribe","userId","filter","sub","handleTest","subscription","currentAQI","current_aqi","message","level","handleCheckboxChange","condition","updatedConditions","includes","c","closeAlert","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","id","name","value","onChange","target","placeholder","required","parseInt","min","max","map","checked","replace","l","toUpperCase","length","join","onClick","style","color","marginBottom","fontWeight","marginLeft","background","padding","borderRadius","margin","borderLeft","fontSize","lineHeight","_c18","$RefreshReg$"],"sources":["C:/Users/ROHAN/OneDrive/Desktop/Air Quality App/frontend/src/components/Notifications.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport styled from 'styled-components';\r\n\r\nconst Container = styled.div`\r\n  min-height: calc(100vh - 40px);\r\n  background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);\r\n  padding: 20px;\r\n  border-radius: 15px;\r\n  margin-top: 20px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  color: white;\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n  font-size: 2.5rem;\r\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);\r\n`;\r\n\r\nconst Card = styled.div`\r\n  background: rgba(255, 255, 255, 0.95);\r\n  border-radius: 15px;\r\n  padding: 25px;\r\n  margin: 20px 0;\r\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\r\n  backdrop-filter: blur(10px);\r\n`;\r\n\r\nconst Form = styled.form`\r\n  display: grid;\r\n  gap: 20px;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst FormGroup = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  margin-bottom: 8px;\r\n  font-weight: 600;\r\n  color: #333;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  padding: 15px;\r\n  border: 2px solid rgba(255, 255, 255, 0.3);\r\n  border-radius: 10px;\r\n  font-size: 16px;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: #11998e;\r\n    box-shadow: 0 0 0 3px rgba(17, 153, 142, 0.1);\r\n  }\r\n`;\r\n\r\nconst Select = styled.select`\r\n  padding: 15px;\r\n  border: 2px solid rgba(255, 255, 255, 0.3);\r\n  border-radius: 10px;\r\n  font-size: 16px;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: #11998e;\r\n    box-shadow: 0 0 0 3px rgba(17, 153, 142, 0.1);\r\n  }\r\n`;\r\n\r\nconst CheckboxGroup = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 15px;\r\n  margin-top: 10px;\r\n`;\r\n\r\nconst CheckboxLabel = styled.label`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  font-weight: normal;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  padding: 15px 30px;\r\n  background: linear-gradient(45deg, #11998e, #38ef7d);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 10px;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 5px 15px rgba(17, 153, 142, 0.4);\r\n  }\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n  padding: 10px 20px;\r\n  margin-right: 10px;\r\n  background: #ff9800;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    background: #e68900;\r\n    transform: translateY(-1px);\r\n  }\r\n`;\r\n\r\nconst UnsubscribeButton = styled(ActionButton)`\r\n  background: #f44336;\r\n  \r\n  &:hover {\r\n    background: #d32f2f;\r\n  }\r\n`;\r\n\r\nconst ErrorMessage = styled.div`\r\n  background: #f8d7da;\r\n  color: #721c24;\r\n  padding: 15px;\r\n  border-radius: 10px;\r\n  margin: 20px 0;\r\n  border: 1px solid #f5c6cb;\r\n`;\r\n\r\nconst SuccessMessage = styled.div`\r\n  background: #d4edda;\r\n  color: #155724;\r\n  padding: 15px;\r\n  border-radius: 10px;\r\n  margin: 20px 0;\r\n  border: 1px solid #c3e6cb;\r\n`;\r\n\r\nconst SubscriptionList = styled.ul`\r\n  list-style: none;\r\n  padding: 0;\r\n  \r\n  li {\r\n    margin: 15px 0;\r\n    background: #fff;\r\n    padding: 20px;\r\n    border-radius: 10px;\r\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nconst SubscriptionInfo = styled.div`\r\n  h4 {\r\n    margin: 0 0 8px 0;\r\n    color: #333;\r\n  }\r\n  \r\n  p {\r\n    margin: 4px 0;\r\n    color: #666;\r\n    font-size: 14px;\r\n  }\r\n`;\r\n\r\nconst AlertPopup = styled.div`\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background: white;\r\n  padding: 30px;\r\n  border-radius: 15px;\r\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n  z-index: 1000;\r\n  max-width: 500px;\r\n  width: 90%;\r\n`;\r\n\r\nconst AlertOverlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  z-index: 999;\r\n`;\r\n\r\nfunction Notifications() {\r\n  const [form, setForm] = useState({\r\n    location: '',\r\n    threshold: 100,\r\n    age_group: '',\r\n    health_conditions: []\r\n  });\r\n  const [subscriptions, setSubscriptions] = useState([]);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [alertPopup, setAlertPopup] = useState(null);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n    \r\n    try {\r\n      const response = await axios.post('/notifications', {\r\n        action: 'subscribe',\r\n        ...form\r\n      });\r\n      \r\n      if (response.data) {\r\n        setSubscriptions([...subscriptions, {\r\n          user_id: response.data.user_id || Date.now(),\r\n          location: form.location,\r\n          threshold: form.threshold,\r\n          age_group: form.age_group,\r\n          health_conditions: form.health_conditions\r\n        }]);\r\n        setSuccess(`Successfully subscribed to alerts for ${form.location}`);\r\n        setForm({\r\n          location: '',\r\n          threshold: 100,\r\n          age_group: '',\r\n          health_conditions: []\r\n        });\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to subscribe. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleUnsubscribe = async (userId) => {\r\n    try {\r\n      await axios.post('/notifications', {\r\n        action: 'unsubscribe',\r\n        user_id: userId\r\n      });\r\n      setSubscriptions(subscriptions.filter(sub => sub.user_id !== userId));\r\n      setSuccess('Successfully unsubscribed from alerts');\r\n    } catch (err) {\r\n      setError('Failed to unsubscribe. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleTest = async (subscription) => {\r\n    try {\r\n      const response = await axios.post('/notifications', {\r\n        action: 'test',\r\n        user_id: subscription.user_id,\r\n        location: subscription.location,\r\n        threshold: subscription.threshold\r\n      });\r\n      \r\n      if (response.data) {\r\n        setAlertPopup({\r\n          location: subscription.location,\r\n          threshold: subscription.threshold,\r\n          currentAQI: response.data.current_aqi || 'Unknown',\r\n          message: response.data.message || 'Test alert generated',\r\n          level: response.data.level || 'INFO'\r\n        });\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to test alert. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleCheckboxChange = (condition) => {\r\n    const updatedConditions = form.health_conditions.includes(condition)\r\n      ? form.health_conditions.filter(c => c !== condition)\r\n      : [...form.health_conditions, condition];\r\n    \r\n    setForm({ ...form, health_conditions: updatedConditions });\r\n  };\r\n\r\n  const closeAlert = () => {\r\n    setAlertPopup(null);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Title>🔔 Push Alert Subscriptions</Title>\r\n\r\n      {error && <ErrorMessage>{error}</ErrorMessage>}\r\n      {success && <SuccessMessage>{success}</SuccessMessage>}\r\n\r\n      <Card>\r\n        <h3>Subscribe to AQI Alerts</h3>\r\n        <Form onSubmit={handleSubmit}>\r\n          <FormGroup>\r\n            <Label htmlFor=\"location\">City Name:</Label>\r\n            <Input\r\n              type=\"text\"\r\n              id=\"location\"\r\n              name=\"location\"\r\n              value={form.location}\r\n              onChange={(e) => setForm({ ...form, location: e.target.value })}\r\n              placeholder=\"Enter city name\"\r\n              required\r\n            />\r\n          </FormGroup>\r\n\r\n          <FormGroup>\r\n            <Label htmlFor=\"threshold\">AQI Threshold:</Label>\r\n            <Input\r\n              type=\"number\"\r\n              id=\"threshold\"\r\n              name=\"threshold\"\r\n              value={form.threshold}\r\n              onChange={(e) => setForm({ ...form, threshold: parseInt(e.target.value) })}\r\n              placeholder=\"e.g. 150\"\r\n              min=\"0\"\r\n              max=\"500\"\r\n              required\r\n            />\r\n          </FormGroup>\r\n\r\n          <FormGroup>\r\n            <Label htmlFor=\"age_group\">Age Group:</Label>\r\n            <Select\r\n              id=\"age_group\"\r\n              name=\"age_group\"\r\n              value={form.age_group}\r\n              onChange={(e) => setForm({ ...form, age_group: e.target.value })}\r\n            >\r\n              <option value=\"\">Select age group</option>\r\n              <option value=\"child\">Child (0-12)</option>\r\n              <option value=\"teen\">Teen (13-19)</option>\r\n              <option value=\"adult\">Adult (20-64)</option>\r\n              <option value=\"elderly\">Elderly (65+)</option>\r\n            </Select>\r\n          </FormGroup>\r\n\r\n          <FormGroup>\r\n            <Label>Health Conditions:</Label>\r\n            <CheckboxGroup>\r\n              {['asthma', 'allergies', 'heart_disease', 'copd', 'diabetes'].map(condition => (\r\n                <CheckboxLabel key={condition}>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={form.health_conditions.includes(condition)}\r\n                    onChange={() => handleCheckboxChange(condition)}\r\n                  />\r\n                  {condition.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase())}\r\n                </CheckboxLabel>\r\n              ))}\r\n            </CheckboxGroup>\r\n          </FormGroup>\r\n\r\n          <Button type=\"submit\">Subscribe to Alerts</Button>\r\n        </Form>\r\n      </Card>\r\n\r\n      {subscriptions.length > 0 && (\r\n        <Card>\r\n          <h3>Active Subscriptions</h3>\r\n          <SubscriptionList>\r\n            {subscriptions.map(subscription => (\r\n              <li key={subscription.user_id}>\r\n                <SubscriptionInfo>\r\n                  <h4>{subscription.location}</h4>\r\n                  <p>AQI Threshold: {subscription.threshold}</p>\r\n                  <p>Age Group: {subscription.age_group || 'Not specified'}</p>\r\n                  <p>Health Conditions: {subscription.health_conditions.join(', ') || 'None'}</p>\r\n                </SubscriptionInfo>\r\n                <div>\r\n                  <ActionButton onClick={() => handleTest(subscription)}>\r\n                    Test Alert\r\n                  </ActionButton>\r\n                  <UnsubscribeButton onClick={() => handleUnsubscribe(subscription.user_id)}>\r\n                    Unsubscribe\r\n                  </UnsubscribeButton>\r\n                </div>\r\n              </li>\r\n            ))}\r\n          </SubscriptionList>\r\n        </Card>\r\n      )}\r\n\r\n      {alertPopup && (\r\n        <>\r\n          <AlertOverlay onClick={closeAlert} />\r\n          <AlertPopup>\r\n            <h3 style={{ \r\n              color: alertPopup.level === 'ALERT' ? '#d32f2f' : \r\n                     alertPopup.level === 'WARNING' ? '#ff9800' : '#4caf50',\r\n              marginBottom: '20px'\r\n            }}>\r\n              🚨 Alert Test Result\r\n            </h3>\r\n            \r\n            <div style={{ marginBottom: '20px' }}>\r\n              <div style={{ marginBottom: '10px' }}>\r\n                <strong>📍 Location:</strong> {alertPopup.location}\r\n              </div>\r\n              <div style={{ marginBottom: '10px' }}>\r\n                <strong>⚠️ Your Threshold:</strong> {alertPopup.threshold}\r\n              </div>\r\n              <div style={{ marginBottom: '10px' }}>\r\n                <strong>🌬️ Current AQI:</strong> \r\n                <span style={{ \r\n                  color: alertPopup.currentAQI > alertPopup.threshold ? '#d32f2f' : '#4caf50',\r\n                  fontWeight: 'bold',\r\n                  marginLeft: '8px'\r\n                }}>\r\n                  {alertPopup.currentAQI}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            \r\n            <div style={{ \r\n              background: alertPopup.level === 'ALERT' ? '#ffebee' : \r\n                         alertPopup.level === 'WARNING' ? '#fff3e0' : '#e8f5e8',\r\n              padding: '20px',\r\n              borderRadius: '12px',\r\n              margin: '20px 0',\r\n              borderLeft: `4px solid ${alertPopup.level === 'ALERT' ? '#d32f2f' : \r\n                                      alertPopup.level === 'WARNING' ? '#ff9800' : '#4caf50'}`\r\n            }}>\r\n              <div style={{ \r\n                fontSize: '16px',\r\n                lineHeight: '1.5',\r\n                color: '#333'\r\n              }}>\r\n                {alertPopup.message}\r\n              </div>\r\n            </div>\r\n            \r\n            <Button onClick={closeAlert}>Close Alert</Button>\r\n          </AlertPopup>\r\n        </>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Notifications;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEvC,MAAMC,SAAS,GAAGL,MAAM,CAACM,GAAG;AAC5B;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GANIF,SAAS;AAQf,MAAMG,KAAK,GAAGR,MAAM,CAACS,EAAE;AACvB;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GANIF,KAAK;AAQX,MAAMG,IAAI,GAAGX,MAAM,CAACM,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACM,GAAA,GAPID,IAAI;AASV,MAAME,IAAI,GAAGb,MAAM,CAACc,IAAI;AACxB;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAJIF,IAAI;AAMV,MAAMG,SAAS,GAAGhB,MAAM,CAACM,GAAG;AAC5B;AACA;AACA,CAAC;AAACW,GAAA,GAHID,SAAS;AAKf,MAAME,KAAK,GAAGlB,MAAM,CAACmB,KAAK;AAC1B;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAJIF,KAAK;AAMX,MAAMG,KAAK,GAAGrB,MAAM,CAACsB,KAAK;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAZIF,KAAK;AAcX,MAAMG,MAAM,GAAGxB,MAAM,CAACyB,MAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAZIF,MAAM;AAcZ,MAAMG,aAAa,GAAG3B,MAAM,CAACM,GAAG;AAChC;AACA;AACA;AACA;AACA,CAAC;AAACsB,GAAA,GALID,aAAa;AAOnB,MAAME,aAAa,GAAG7B,MAAM,CAACmB,KAAK;AAClC;AACA;AACA;AACA;AACA;AACA,CAAC;AAACW,GAAA,GANID,aAAa;AAQnB,MAAME,MAAM,GAAG/B,MAAM,CAACgC,MAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAfIF,MAAM;AAiBZ,MAAMG,YAAY,GAAGlC,MAAM,CAACgC,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACG,IAAA,GAhBID,YAAY;AAkBlB,MAAME,iBAAiB,GAAGpC,MAAM,CAACkC,YAAY,CAAC;AAC9C;AACA;AACA;AACA;AACA;AACA,CAAC;AAACG,IAAA,GANID,iBAAiB;AAQvB,MAAME,YAAY,GAAGtC,MAAM,CAACM,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACiC,IAAA,GAPID,YAAY;AASlB,MAAME,cAAc,GAAGxC,MAAM,CAACM,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACmC,IAAA,GAPID,cAAc;AASpB,MAAME,gBAAgB,GAAG1C,MAAM,CAAC2C,EAAE;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAdIF,gBAAgB;AAgBtB,MAAMG,gBAAgB,GAAG7C,MAAM,CAACM,GAAG;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACwC,IAAA,GAXID,gBAAgB;AAatB,MAAME,UAAU,GAAG/C,MAAM,CAACM,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC0C,IAAA,GAZID,UAAU;AAchB,MAAME,YAAY,GAAGjD,MAAM,CAACM,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC4C,IAAA,GARID,YAAY;AAUlB,SAASE,aAAaA,CAAA,EAAG;EAAAC,EAAA;EACvB,MAAM,CAACtC,IAAI,EAAEuC,OAAO,CAAC,GAAGvD,QAAQ,CAAC;IAC/BwD,QAAQ,EAAE,EAAE;IACZC,SAAS,EAAE,GA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}