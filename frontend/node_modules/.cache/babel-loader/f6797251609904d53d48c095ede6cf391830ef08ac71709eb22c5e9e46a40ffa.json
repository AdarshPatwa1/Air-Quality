{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ROHAN\\\\OneDrive\\\\Desktop\\\\Air Quality App\\\\frontend\\\\src\\\\components\\\\Heatmap.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\n\n// Fix for default markers in react-leaflet\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\nconst Container = styled.div`\n  min-height: calc(100vh - 40px);\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  padding: 20px;\n  border-radius: 15px;\n  margin-top: 20px;\n`;\n_c = Container;\nconst Title = styled.h1`\n  color: white;\n  text-align: center;\n  margin-bottom: 30px;\n  font-size: 2.5rem;\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);\n`;\n_c2 = Title;\nconst Card = styled.div`\n  background: rgba(255, 255, 255, 0.95);\n  border-radius: 15px;\n  padding: 25px;\n  margin: 20px 0;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n`;\n_c3 = Card;\nconst Form = styled.form`\n  display: flex;\n  gap: 15px;\n  margin-bottom: 30px;\n  align-items: center;\n`;\n_c4 = Form;\nconst Input = styled.input`\n  flex: 1;\n  padding: 15px;\n  border: none;\n  border-radius: 10px;\n  font-size: 16px;\n  background: rgba(255, 255, 255, 0.9);\n  &:focus {\n    outline: none;\n    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);\n  }\n`;\n_c5 = Input;\nconst Button = styled.button`\n  padding: 15px 30px;\n  background: linear-gradient(45deg, #667eea, #764ba2);\n  color: white;\n  border: none;\n  border-radius: 10px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);\n  }\n`;\n_c6 = Button;\nconst MapWrapper = styled.div`\n  height: 500px;\n  border-radius: 15px;\n  overflow: hidden;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n`;\n_c7 = MapWrapper;\nconst Legend = styled.div`\n  background: white;\n  padding: 15px;\n  border-radius: 10px;\n  margin-top: 20px;\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n`;\n_c8 = Legend;\nconst LegendItem = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 5px 0;\n  gap: 10px;\n`;\n_c9 = LegendItem;\nconst ColorBox = styled.div`\n  width: 20px;\n  height: 20px;\n  border-radius: 4px;\n  background-color: ${props => props.color};\n`;\n_c0 = ColorBox;\nconst ErrorMessage = styled.div`\n  background: #f8d7da;\n  color: #721c24;\n  padding: 15px;\n  border-radius: 10px;\n  margin: 20px 0;\n  border: 1px solid #f5c6cb;\n`;\n_c1 = ErrorMessage;\nconst LoadingMessage = styled.div`\n  text-align: center;\n  padding: 20px;\n  color: #666;\n  font-size: 16px;\n`;\n_c10 = LoadingMessage;\nfunction Heatmap() {\n  _s();\n  const [location, setLocation] = useState('');\n  const [mapData, setMapData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [mapCenter, setMapCenter] = useState([39.8283, -98.5795]); // Default to center of US\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    try {\n      const response = await axios.get('/heatmap');\n      setMapData(response.data.heatmap_data);\n\n      // Set map center based on the location data\n      if (response.data.heatmap_data && response.data.heatmap_data.center) {\n        setMapCenter([response.data.heatmap_data.center.lat, response.data.heatmap_data.center.lng]);\n      }\n    } catch (err) {\n      setError('Error fetching heatmap data. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getAQIColor = aqi => {\n    if (aqi <= 50) return '#00e400'; // Good\n    if (aqi <= 100) return '#ffff00'; // Moderate\n    if (aqi <= 150) return '#ff7e00'; // Unhealthy for Sensitive Groups\n    if (aqi <= 200) return '#ff0000'; // Unhealthy\n    if (aqi <= 300) return '#8f3f97'; // Very Unhealthy\n    return '#7e0023'; // Hazardous\n  };\n  const getAQICategory = aqi => {\n    if (aqi <= 50) return 'Good';\n    if (aqi <= 100) return 'Moderate';\n    if (aqi <= 150) return 'Unhealthy for Sensitive Groups';\n    if (aqi <= 200) return 'Unhealthy';\n    if (aqi <= 300) return 'Very Unhealthy';\n    return 'Hazardous';\n  };\n  const createCustomIcon = aqi => {\n    const color = getAQIColor(aqi);\n    return L.divIcon({\n      html: `<div style=\"\n        background-color: ${color};\n        width: 30px;\n        height: 30px;\n        border-radius: 50%;\n        border: 3px solid white;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        color: ${aqi > 100 ? 'white' : 'black'};\n        font-weight: bold;\n        font-size: 12px;\n        box-shadow: 0 2px 5px rgba(0,0,0,0.3);\n      \">${aqi}</div>`,\n      className: 'custom-marker',\n      iconSize: [30, 30],\n      iconAnchor: [15, 15]\n    });\n  };\n  const legendItems = [{\n    color: '#00e400',\n    label: '0-50: Good'\n  }, {\n    color: '#ffff00',\n    label: '51-100: Moderate'\n  }, {\n    color: '#ff7e00',\n    label: '101-150: Unhealthy for Sensitive Groups'\n  }, {\n    color: '#ff0000',\n    label: '151-200: Unhealthy'\n  }, {\n    color: '#8f3f97',\n    label: '201-300: Very Unhealthy'\n  }, {\n    color: '#7e0023',\n    label: '301+: Hazardous'\n  }];\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      children: \"\\uD83D\\uDDFA\\uFE0F Air Quality Heatmap\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          value: location,\n          onChange: e => setLocation(e.target.value),\n          placeholder: \"Enter city or region name\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          disabled: loading,\n          children: loading ? 'Loading...' : 'Show Heatmap'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 19\n      }, this), loading && /*#__PURE__*/_jsxDEV(LoadingMessage, {\n        children: \"Loading air quality data...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 21\n      }, this), mapData && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(MapWrapper, {\n          children: /*#__PURE__*/_jsxDEV(MapContainer, {\n            center: mapCenter,\n            zoom: 10,\n            style: {\n              height: '100%',\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n              attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",\n              url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, this), mapData.locations && mapData.locations.map((location, index) => /*#__PURE__*/_jsxDEV(Marker, {\n              position: [location.lat, location.lng],\n              icon: createCustomIcon(location.aqi),\n              children: /*#__PURE__*/_jsxDEV(Popup, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: location.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"AQI:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 243,\n                      columnNumber: 28\n                    }, this), \" \", location.aqi]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Category:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 244,\n                      columnNumber: 28\n                    }, this), \" \", getAQICategory(location.aqi)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Main Pollutant:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 245,\n                      columnNumber: 28\n                    }, this), \" \", location.main_pollutant || 'N/A']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Last Updated:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 246,\n                      columnNumber: 28\n                    }, this), \" \", location.timestamp || 'N/A']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 21\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Legend, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"AQI Legend\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this), legendItems.map((item, index) => /*#__PURE__*/_jsxDEV(LegendItem, {\n            children: [/*#__PURE__*/_jsxDEV(ColorBox, {\n              color: item.color\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: item.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 5\n  }, this);\n}\n_s(Heatmap, \"dHvXp7yvNT0Jv4uhY8krBXz9BnM=\");\n_c11 = Heatmap;\nexport default Heatmap;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Title\");\n$RefreshReg$(_c3, \"Card\");\n$RefreshReg$(_c4, \"Form\");\n$RefreshReg$(_c5, \"Input\");\n$RefreshReg$(_c6, \"Button\");\n$RefreshReg$(_c7, \"MapWrapper\");\n$RefreshReg$(_c8, \"Legend\");\n$RefreshReg$(_c9, \"LegendItem\");\n$RefreshReg$(_c0, \"ColorBox\");\n$RefreshReg$(_c1, \"ErrorMessage\");\n$RefreshReg$(_c10, \"LoadingMessage\");\n$RefreshReg$(_c11, \"Heatmap\");","map":{"version":3,"names":["React","useState","axios","styled","MapContainer","TileLayer","Marker","Popup","L","jsxDEV","_jsxDEV","Fragment","_Fragment","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","Container","div","_c","Title","h1","_c2","Card","_c3","Form","form","_c4","Input","input","_c5","Button","button","_c6","MapWrapper","_c7","Legend","_c8","LegendItem","_c9","ColorBox","props","color","_c0","ErrorMessage","_c1","LoadingMessage","_c10","Heatmap","_s","location","setLocation","mapData","setMapData","loading","setLoading","error","setError","mapCenter","setMapCenter","handleSubmit","e","preventDefault","response","get","data","heatmap_data","center","lat","lng","err","getAQIColor","aqi","getAQICategory","createCustomIcon","divIcon","html","className","iconSize","iconAnchor","legendItems","label","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","placeholder","required","disabled","zoom","style","height","width","attribution","url","locations","map","index","position","icon","name","main_pollutant","timestamp","item","_c11","$RefreshReg$"],"sources":["C:/Users/ROHAN/OneDrive/Desktop/Air Quality App/frontend/src/components/Heatmap.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport styled from 'styled-components';\r\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport L from 'leaflet';\r\n\r\n// Fix for default markers in react-leaflet\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\r\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\r\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\r\n});\r\n\r\nconst Container = styled.div`\r\n  min-height: calc(100vh - 40px);\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  padding: 20px;\r\n  border-radius: 15px;\r\n  margin-top: 20px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  color: white;\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n  font-size: 2.5rem;\r\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);\r\n`;\r\n\r\nconst Card = styled.div`\r\n  background: rgba(255, 255, 255, 0.95);\r\n  border-radius: 15px;\r\n  padding: 25px;\r\n  margin: 20px 0;\r\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\r\n  backdrop-filter: blur(10px);\r\n`;\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  gap: 15px;\r\n  margin-bottom: 30px;\r\n  align-items: center;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  flex: 1;\r\n  padding: 15px;\r\n  border: none;\r\n  border-radius: 10px;\r\n  font-size: 16px;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  &:focus {\r\n    outline: none;\r\n    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  padding: 15px 30px;\r\n  background: linear-gradient(45deg, #667eea, #764ba2);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 10px;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);\r\n  }\r\n`;\r\n\r\nconst MapWrapper = styled.div`\r\n  height: 500px;\r\n  border-radius: 15px;\r\n  overflow: hidden;\r\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\r\n`;\r\n\r\nconst Legend = styled.div`\r\n  background: white;\r\n  padding: 15px;\r\n  border-radius: 10px;\r\n  margin-top: 20px;\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\r\n`;\r\n\r\nconst LegendItem = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 5px 0;\r\n  gap: 10px;\r\n`;\r\n\r\nconst ColorBox = styled.div`\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 4px;\r\n  background-color: ${props => props.color};\r\n`;\r\n\r\nconst ErrorMessage = styled.div`\r\n  background: #f8d7da;\r\n  color: #721c24;\r\n  padding: 15px;\r\n  border-radius: 10px;\r\n  margin: 20px 0;\r\n  border: 1px solid #f5c6cb;\r\n`;\r\n\r\nconst LoadingMessage = styled.div`\r\n  text-align: center;\r\n  padding: 20px;\r\n  color: #666;\r\n  font-size: 16px;\r\n`;\r\n\r\nfunction Heatmap() {\r\n  const [location, setLocation] = useState('');\r\n  const [mapData, setMapData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [mapCenter, setMapCenter] = useState([39.8283, -98.5795]); // Default to center of US\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const response = await axios.get('/heatmap');\r\n      setMapData(response.data.heatmap_data);\r\n      \r\n      // Set map center based on the location data\r\n      if (response.data.heatmap_data && response.data.heatmap_data.center) {\r\n        setMapCenter([response.data.heatmap_data.center.lat, response.data.heatmap_data.center.lng]);\r\n      }\r\n    } catch (err) {\r\n      setError('Error fetching heatmap data. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getAQIColor = (aqi) => {\r\n    if (aqi <= 50) return '#00e400'; // Good\r\n    if (aqi <= 100) return '#ffff00'; // Moderate\r\n    if (aqi <= 150) return '#ff7e00'; // Unhealthy for Sensitive Groups\r\n    if (aqi <= 200) return '#ff0000'; // Unhealthy\r\n    if (aqi <= 300) return '#8f3f97'; // Very Unhealthy\r\n    return '#7e0023'; // Hazardous\r\n  };\r\n\r\n  const getAQICategory = (aqi) => {\r\n    if (aqi <= 50) return 'Good';\r\n    if (aqi <= 100) return 'Moderate';\r\n    if (aqi <= 150) return 'Unhealthy for Sensitive Groups';\r\n    if (aqi <= 200) return 'Unhealthy';\r\n    if (aqi <= 300) return 'Very Unhealthy';\r\n    return 'Hazardous';\r\n  };\r\n\r\n  const createCustomIcon = (aqi) => {\r\n    const color = getAQIColor(aqi);\r\n    return L.divIcon({\r\n      html: `<div style=\"\r\n        background-color: ${color};\r\n        width: 30px;\r\n        height: 30px;\r\n        border-radius: 50%;\r\n        border: 3px solid white;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        color: ${aqi > 100 ? 'white' : 'black'};\r\n        font-weight: bold;\r\n        font-size: 12px;\r\n        box-shadow: 0 2px 5px rgba(0,0,0,0.3);\r\n      \">${aqi}</div>`,\r\n      className: 'custom-marker',\r\n      iconSize: [30, 30],\r\n      iconAnchor: [15, 15]\r\n    });\r\n  };\r\n\r\n  const legendItems = [\r\n    { color: '#00e400', label: '0-50: Good' },\r\n    { color: '#ffff00', label: '51-100: Moderate' },\r\n    { color: '#ff7e00', label: '101-150: Unhealthy for Sensitive Groups' },\r\n    { color: '#ff0000', label: '151-200: Unhealthy' },\r\n    { color: '#8f3f97', label: '201-300: Very Unhealthy' },\r\n    { color: '#7e0023', label: '301+: Hazardous' }\r\n  ];\r\n\r\n  return (\r\n    <Container>\r\n      <Title>üó∫Ô∏è Air Quality Heatmap</Title>\r\n      \r\n      <Card>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Input\r\n            type=\"text\"\r\n            value={location}\r\n            onChange={(e) => setLocation(e.target.value)}\r\n            placeholder=\"Enter city or region name\"\r\n            required\r\n          />\r\n          <Button type=\"submit\" disabled={loading}>\r\n            {loading ? 'Loading...' : 'Show Heatmap'}\r\n          </Button>\r\n        </Form>\r\n\r\n        {error && <ErrorMessage>{error}</ErrorMessage>}\r\n\r\n        {loading && <LoadingMessage>Loading air quality data...</LoadingMessage>}\r\n\r\n        {mapData && (\r\n          <>\r\n            <MapWrapper>\r\n              <MapContainer\r\n                center={mapCenter}\r\n                zoom={10}\r\n                style={{ height: '100%', width: '100%' }}\r\n              >\r\n                <TileLayer\r\n                  attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n                  url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                />\r\n                {mapData.locations && mapData.locations.map((location, index) => (\r\n                  <Marker\r\n                    key={index}\r\n                    position={[location.lat, location.lng]}\r\n                    icon={createCustomIcon(location.aqi)}\r\n                  >\r\n                    <Popup>\r\n                      <div>\r\n                        <h3>{location.name}</h3>\r\n                        <p><strong>AQI:</strong> {location.aqi}</p>\r\n                        <p><strong>Category:</strong> {getAQICategory(location.aqi)}</p>\r\n                        <p><strong>Main Pollutant:</strong> {location.main_pollutant || 'N/A'}</p>\r\n                        <p><strong>Last Updated:</strong> {location.timestamp || 'N/A'}</p>\r\n                      </div>\r\n                    </Popup>\r\n                  </Marker>\r\n                ))}\r\n              </MapContainer>\r\n            </MapWrapper>\r\n\r\n            <Legend>\r\n              <h3>AQI Legend</h3>\r\n              {legendItems.map((item, index) => (\r\n                <LegendItem key={index}>\r\n                  <ColorBox color={item.color} />\r\n                  <span>{item.label}</span>\r\n                </LegendItem>\r\n              ))}\r\n            </Legend>\r\n          </>\r\n        )}\r\n      </Card>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Heatmap;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}